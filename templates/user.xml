<templateSet group="user">
  <template name="pt.dao" value="class Student {&#10;    private java.lang.String name;&#10;    private int rollNo;&#10;&#10;    Student(java.lang.String name, int rollNo){&#10;        this.name = name;&#10;        this.rollNo = rollNo;&#10;    }&#10;&#10;    public java.lang.String getName() {&#10;        return name;&#10;    }&#10;&#10;    public void setName(java.lang.String name) {&#10;        this.name = name;&#10;    }&#10;&#10;    public int getRollNo() {&#10;        return rollNo;&#10;    }&#10;&#10;    public void setRollNo(int rollNo) {&#10;        this.rollNo = rollNo;&#10;    }&#10;}&#10;&#10;interface StudentDao {&#10;    public java.util.List&lt;Student&gt; getAllStudents();&#10;    public Student getStudent(int rollNo);&#10;    public void updateStudent(Student student);&#10;    public void deleteStudent(Student student);&#10;}&#10;&#10;class StudentDaoImpl implements StudentDao {&#10;&#10;    //list is working as a database&#10;    java.util.List&lt;Student&gt; students;&#10;&#10;    public StudentDaoImpl(){&#10;        students = new java.util.ArrayList&lt;Student&gt;();&#10;        Student student1 = new Student(&quot;Robert&quot;,0);&#10;        Student student2 = new Student(&quot;John&quot;,1);&#10;        students.add(student1);&#10;        students.add(student2);&#10;    }&#10;    @java.lang.Override&#10;    public void deleteStudent(Student student) {&#10;        students.remove(student.getRollNo());&#10;        java.lang.System.out.println(&quot;Student: Roll No &quot; + student.getRollNo() + &quot;, deleted from database&quot;);&#10;    }&#10;&#10;    //retrive list of students from the database&#10;    @java.lang.Override&#10;    public java.util.List&lt;Student&gt; getAllStudents() {&#10;        return students;&#10;    }&#10;&#10;    @java.lang.Override&#10;    public Student getStudent(int rollNo) {&#10;        return students.get(rollNo);&#10;    }&#10;&#10;    @java.lang.Override&#10;    public void updateStudent(Student student) {&#10;        students.get(student.getRollNo()).setName(student.getName());&#10;        java.lang.System.out.println(&quot;Student: Roll No &quot; + student.getRollNo() + &quot;, updated in the database&quot;);&#10;    }&#10;}&#10;&#10;class DaoPatternDemo {&#10;    public static void main(java.lang.String[] args) {&#10;        StudentDao studentDao = new StudentDaoImpl();&#10;&#10;        //print all students&#10;        for (Student student : studentDao.getAllStudents()) {&#10;            java.lang.System.out.println(&quot;Student: [RollNo : &quot; + student.getRollNo() + &quot;, Name : &quot; + student.getName() + &quot; ]&quot;);&#10;        }&#10;&#10;&#10;        //update student&#10;        Student student =studentDao.getAllStudents().get(0);&#10;        student.setName(&quot;Michael&quot;);&#10;        studentDao.updateStudent(student);&#10;&#10;        //get the student&#10;        studentDao.getStudent(0);&#10;        java.lang.System.out.println(&quot;Student: [RollNo : &quot; + student.getRollNo() + &quot;, Name : &quot; + student.getName() + &quot; ]&quot;);&#10;    }&#10;}" description="Simple DAO pattern" toReformat="true" toShortenFQNames="true">
    <context>
      <option name="JAVA_DECLARATION" value="true" />
    </context>
  </template>
  <template name="dkc.java.postgres.mongo.maven" value="version: '3'&#10;services:&#10;&#10;  ade-postgres:&#10;    image: &quot;postgres&quot;&#10;    container_name: &quot;my_postgres&quot;&#10;    ports:&#10;      - &quot;5432:5432&quot;&#10;    restart: always&#10;&#10;  ade-mongo:&#10;    container_name: mongo&#10;    image: mongo&#10;    ports:&#10;      - &quot;27017:27017&quot;&#10;    restart: always&#10;&#10;&#10;  app:&#10;    build: .&#10;    volumes:&#10;      - .:/app&#10;      - ~/.m2:/root/.m2&#10;    working_dir: /app&#10;    ports:&#10;      - 8080:8080&#10;    command: mvn clean spring-boot:run&#10;    depends_on:&#10;      - ade-postgres&#10;      - ade-mongo" description="Simple docker compose file for java, postgres, mongo and maven" toReformat="true" toShortenFQNames="true">
    <context>
      <option name="GROOVY" value="false" />
      <option name="HTML" value="false" />
      <option name="JAVA_CODE" value="false" />
      <option name="JSON" value="false" />
      <option name="KOTLIN" value="false" />
      <option name="MAVEN" value="false" />
      <option name="OTHER" value="true" />
      <option name="XML" value="false" />
    </context>
  </template>
  <template name="dk.maven" value="FROM maven:3.6.1-jdk-12" description="Simple dockerfile for maven" toReformat="true" toShortenFQNames="true">
    <context>
      <option name="GROOVY" value="false" />
      <option name="HTML" value="false" />
      <option name="JAVA_CODE" value="false" />
      <option name="JSON" value="false" />
      <option name="KOTLIN" value="false" />
      <option name="MAVEN" value="false" />
      <option name="OTHER" value="true" />
      <option name="XML" value="false" />
    </context>
  </template>
  <template name="dk.gradle" value="FROM gradle:5.5.1-jdk12" description="Simple dockerfile for gradle" toReformat="true" toShortenFQNames="true">
    <context>
      <option name="GROOVY" value="false" />
      <option name="HTML" value="false" />
      <option name="JAVA_CODE" value="false" />
      <option name="JSON" value="false" />
      <option name="KOTLIN" value="false" />
      <option name="MAVEN" value="false" />
      <option name="OTHER" value="true" />
      <option name="XML" value="false" />
    </context>
  </template>
  <template name="sb.setup.postgres" value="## default connection pool&#10;spring.datasource.hikari.connectionTimeout=20000&#10;spring.datasource.hikari.maximumPoolSize=5&#10;spring.datasource.url=jdbc:postgresql://ade-postgres:5432/postgres&#10;spring.datasource.username=postgres&#10;spring.datasource.password=&#10;spring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation=true&#10;spring.jpa.hibernate.ddl-auto=create" description="Spring Boot Postgres setup" toReformat="true" toShortenFQNames="true">
    <context>
      <option name="GROOVY" value="false" />
      <option name="HTML" value="false" />
      <option name="JAVA_CODE" value="false" />
      <option name="JSON" value="false" />
      <option name="KOTLIN" value="false" />
      <option name="MAVEN" value="false" />
      <option name="OTHER" value="true" />
      <option name="XML" value="false" />
    </context>
  </template>
  <template name="sb.setup.mongo" value="spring.data.mongodb.host=ade-mongo&#10;spring.data.mongodb.port=27017&#10;spring.data.mongodb.database=demo&#10;#spring.data.mongodb.uri=mongodb://eyeco:eyeco2019@ds249137.mlab.com:49137/eyeco" description="Spring Boot Mongo setup" toReformat="true" toShortenFQNames="true">
    <context>
      <option name="GROOVY" value="false" />
      <option name="HTML" value="false" />
      <option name="JAVA_CODE" value="false" />
      <option name="JSON" value="false" />
      <option name="KOTLIN" value="false" />
      <option name="MAVEN" value="false" />
      <option name="OTHER" value="true" />
      <option name="XML" value="false" />
    </context>
  </template>
  <template name="dkc.java.postgres.gradle" value="version: '3'&#10;services:&#10;&#10;  ade-postgres:&#10;    image: &quot;postgres&quot;&#10;    container_name: &quot;my_postgres&quot;&#10;    ports:&#10;      - &quot;5432:5432&quot;&#10;    restart: always&#10;&#10;  app:&#10;    build: .&#10;    volumes:&#10;      - .:/app&#10;      - ~/.m2:/root/.m2&#10;    working_dir: /app&#10;    ports:&#10;      - 8080:8080&#10;    command: ./gradlew clean bootRun&#10;    depends_on:&#10;      - ade-postgres" description="Simple docker compose file for java, postgres and gradle" toReformat="true" toShortenFQNames="true">
    <context>
      <option name="GROOVY" value="false" />
      <option name="HTML" value="false" />
      <option name="JAVA_CODE" value="false" />
      <option name="JSON" value="false" />
      <option name="KOTLIN" value="false" />
      <option name="MAVEN" value="false" />
      <option name="OTHER" value="true" />
      <option name="XML" value="false" />
    </context>
  </template>
  <template name="gdl.swagger" value="compile group: 'io.springfox', name: 'springfox-swagger2', version: '2.9.2'&#10;compile group: 'io.springfox', name: 'springfox-swagger-ui', version: '2.9.2'" description="Gradle Swager dependencies" toReformat="true" toShortenFQNames="true">
    <context>
      <option name="GROOVY_EXPRESSION" value="true" />
      <option name="GROOVY_STATEMENT" value="true" />
    </context>
  </template>
  <template name="sb.setup.pagination" value="spring.data.web.pageable.one-indexed-parameters=true" description="" toReformat="true" toShortenFQNames="true">
    <context>
      <option name="GROOVY" value="false" />
      <option name="HTML" value="false" />
      <option name="JAVA_CODE" value="false" />
      <option name="JSON" value="false" />
      <option name="KOTLIN" value="false" />
      <option name="MAVEN" value="false" />
      <option name="OTHER" value="true" />
      <option name="XML" value="false" />
    </context>
  </template>
  <template name="sb.starter.api" value="import lombok.Data;&#10;import lombok.RequiredArgsConstructor;&#10;import lombok.extern.slf4j.Slf4j;&#10;import org.hibernate.annotations.CreationTimestamp;&#10;import org.hibernate.annotations.UpdateTimestamp;&#10;import org.springframework.boot.SpringApplication;&#10;import org.springframework.boot.autoconfigure.SpringBootApplication;&#10;import org.springframework.data.domain.Page;&#10;import org.springframework.data.domain.Pageable;&#10;import org.springframework.data.jpa.repository.JpaRepository;&#10;import org.springframework.stereotype.Repository;&#10;import org.springframework.stereotype.Service;&#10;import org.springframework.web.bind.annotation.*;&#10;&#10;import javax.persistence.Entity;&#10;import javax.persistence.GeneratedValue;&#10;import javax.persistence.GenerationType;&#10;import javax.persistence.Id;&#10;import javax.validation.Valid;&#10;import javax.validation.constraints.NotNull;&#10;import java.math.BigDecimal;&#10;import java.util.Date;&#10;import java.util.Optional;&#10;&#10;// model&#10;@lombok.Data&#10;@javax.persistence.Entity&#10;class Product {&#10;&#9;@javax.persistence.Id&#10;&#9;@javax.persistence.GeneratedValue(strategy = javax.persistence.GenerationType.IDENTITY)&#10;&#9;private java.lang.Long id;&#10;&#10;&#9;@javax.validation.constraints.NotNull(message = &quot;it can be null&quot;)&#10;&#9;private java.lang.String name;&#10;&#10;&#9;private java.lang.String description;&#10;&#10;&#9;private java.math.BigDecimal price;&#10;&#10;&#9;@org.hibernate.annotations.CreationTimestamp&#10;&#9;private java.util.Date createdAt;&#10;&#10;&#9;@org.hibernate.annotations.UpdateTimestamp&#10;&#9;private java.util.Date updatedAt;&#10;}&#10;&#10;// dto&#10;&#10;&#10;// interface&#10;interface ProductService {&#10;&#9;public com.adechinan.dev.demoapi.Product save(com.adechinan.dev.demoapi.Product product);&#10;&#9;public org.springframework.data.domain.Page&lt;com.adechinan.dev.demoapi.Product&gt; findAll(org.springframework.data.domain.Pageable pageable);&#10;&#9;public java.util.Optional&lt;com.adechinan.dev.demoapi.Product&gt; findById(java.lang.Long id);&#10;&#9;public void deleteById(java.lang.Long id);&#10;}&#10;&#10;// repository&#10;@org.springframework.stereotype.Repository&#10;interface ProductRepository extends org.springframework.data.jpa.repository.JpaRepository&lt;com.adechinan.dev.demoapi.Product, java.lang.Long&gt;{}&#10;&#10;&#10;// implementation&#10;@lombok.RequiredArgsConstructor&#10;@org.springframework.stereotype.Service&#10;class ProductServiceImpl implements com.adechinan.dev.demoapi.ProductService {&#10;&#10;&#9;private final com.adechinan.dev.demoapi.ProductRepository productRespository;&#10;&#10;&#9;public org.springframework.data.domain.Page&lt;com.adechinan.dev.demoapi.Product&gt; findAll(org.springframework.data.domain.Pageable pageable) {&#10;&#9;&#9;return productRespository.findAll(pageable);&#10;&#9;}&#10;&#10;&#9;public java.util.Optional&lt;com.adechinan.dev.demoapi.Product&gt; findById(java.lang.Long id) {&#10;&#9;&#9;return productRespository.findById(id);&#10;&#9;}&#10;&#10;&#9;public com.adechinan.dev.demoapi.Product save(com.adechinan.dev.demoapi.Product product) {&#10;&#9;&#9;return productRespository.save(product);&#10;&#9;}&#10;&#10;&#9;public void deleteById(java.lang.Long id) {&#10;&#9;&#9;productRespository.deleteById(id);&#10;&#9;}&#10;}&#10;&#10;// endpoints&#10;@lombok.extern.slf4j.Slf4j&#10;@lombok.RequiredArgsConstructor&#10;@org.springframework.web.bind.annotation.RestController&#10;@org.springframework.web.bind.annotation.RequestMapping(&quot;/api/v1/products&quot;)&#10;@org.springframework.web.bind.annotation.CrossOrigin&#10;class ProductAPI {&#10;&#9;private final com.adechinan.dev.demoapi.ProductService productService;&#10;&#10;&#9;@org.springframework.web.bind.annotation.GetMapping&#10;&#9;public org.springframework.data.domain.Page&lt;com.adechinan.dev.demoapi.Product&gt; findAll(org.springframework.data.domain.Pageable pageable) {&#10;&#9;&#9;return productService.findAll(pageable);&#10;&#9;}&#10;&#10;&#9;@org.springframework.web.bind.annotation.PostMapping&#10;&#9;public com.adechinan.dev.demoapi.Product create(@org.springframework.web.bind.annotation.RequestBody @javax.validation.Valid com.adechinan.dev.demoapi.Product product) {&#10;&#9;&#9;return productService.save(product);&#10;&#9;}&#10;&#10;&#9;@org.springframework.web.bind.annotation.GetMapping(&quot;/{id}&quot;)&#10;&#9;public com.adechinan.dev.demoapi.Product findById(@org.springframework.web.bind.annotation.PathVariable java.lang.Long id) {&#10;&#9;&#9;return productService.findById(id).orElseThrow(()-&gt; new java.lang.RuntimeException(&quot;resource not found&quot;));&#10;&#9;}&#10;&#10;&#9;@org.springframework.web.bind.annotation.PutMapping(&quot;/{id}&quot;)&#10;&#9;public com.adechinan.dev.demoapi.Product update(@org.springframework.web.bind.annotation.PathVariable java.lang.Long id, @org.springframework.web.bind.annotation.RequestBody com.adechinan.dev.demoapi.Product product) {&#10;&#9;&#9;product.setId(id);&#10;&#9;&#9;return productService.save(product);&#10;&#9;}&#10;&#10;&#9;@org.springframework.web.bind.annotation.DeleteMapping(&quot;/{id}&quot;)&#10;&#9;public void delete(@org.springframework.web.bind.annotation.PathVariable java.lang.Long id) {&#10;&#9;&#9;productService.deleteById(id);&#10;&#9;}&#10;&#10;&#10;}&#10;&#10;&#10;// app&#10;@org.springframework.boot.autoconfigure.SpringBootApplication&#10;//@EnableSwagger2&#10;public class DemoApiApplication {&#10;&#10;&#9;//http://localhost:8080/swagger-ui.html&#10;&#9;/*@Bean&#10;&#9;public Docket swagger() {&#10;&#9;&#9;return new Docket(DocumentationType.SWAGGER_2)&#10;&#9;&#9;&#9;&#9;.select()&#10;&#9;&#9;&#9;&#9;.apis(RequestHandlerSelectors.any())&#10;&#9;&#9;&#9;&#9;.paths(PathSelectors.any())&#10;&#9;&#9;&#9;&#9;.build();&#10;&#9;}*/&#10;&#10;&#9;public static void main(java.lang.String[] args) {&#10;&#9;&#9;org.springframework.boot.SpringApplication.run(com.adechinan.dev.demoapi.DemoApiApplication.class, args);&#10;&#9;}&#10;&#10;}" description="Simple Spring Boot API" toReformat="true" toShortenFQNames="true">
    <context>
      <option name="JAVA_DECLARATION" value="true" />
    </context>
  </template>
  <template name="sb.starter.exception" value="@lombok.Getter&#10;@lombok.Setter&#10;class ApiError {&#10;&#10;&#9;private org.springframework.http.HttpStatus status;&#10;&#9;private java.lang.String message;&#10;&#9;private java.util.List&lt;java.lang.String&gt; errors;&#10;&#10;&#9;public ApiError(org.springframework.http.HttpStatus status, java.lang.String message, java.util.List&lt;java.lang.String&gt; errors) {&#10;&#9;&#9;super();&#10;&#9;&#9;this.status = status;&#10;&#9;&#9;this.message = message;&#10;&#9;&#9;this.errors = errors;&#10;&#9;}&#10;&#10;&#9;public ApiError(org.springframework.http.HttpStatus status, java.lang.String message, java.lang.String error) {&#10;&#9;&#9;super();&#10;&#9;&#9;this.status = status;&#10;&#9;&#9;this.message = message;&#10;&#9;&#9;errors = java.util.Arrays.asList(error);&#10;&#9;}&#10;&#10;}&#10;&#10;&#10;@org.springframework.web.bind.annotation.ControllerAdvice&#10;class MyExceptionHandler extends org.springframework.web.servlet.mvc.method.annotation.ResponseEntityExceptionHandler {&#10;&#10;   /* @ExceptionHandler({ Exception.class })&#10;    public ResponseEntity&lt;Object&gt; handleAll(Exception ex, WebRequest request) {&#10;        ApiError apiError = new ApiError(&#10;                HttpStatus.INTERNAL_SERVER_ERROR, ex.getLocalizedMessage(), &quot;error occurred&quot;);&#10;        return new ResponseEntity&lt;&gt;(&#10;                apiError, new HttpHeaders(), apiError.getStatus());&#10;    }*/&#10;&#10;   /* @ExceptionHandler({ ConstraintViolationException.class })&#10;    public ResponseEntity&lt;Object&gt; handleConstraintViolation(&#10;            ConstraintViolationException ex, WebRequest request) {&#10;        List&lt;String&gt; errors = new ArrayList&lt;String&gt;();&#10;        for (ConstraintViolation&lt;?&gt; violation : ex.getConstraintViolations()) {&#10;            errors.add(violation.getRootBeanClass().getName() + &quot; &quot; +&#10;                    violation.getPropertyPath() + &quot;: &quot; + violation.getMessage());&#10;        }&#10;&#10;        ApiError apiError =&#10;                new ApiError(HttpStatus.BAD_REQUEST, ex.getLocalizedMessage(), errors);&#10;        return new ResponseEntity&lt;&gt;(&#10;                apiError, new HttpHeaders(), apiError.getStatus());&#10;    }*/&#10;&#10;&#10;&#9;@java.lang.Override&#10;&#9;protected org.springframework.http.ResponseEntity&lt;java.lang.Object&gt; handleMethodArgumentNotValid(&#10;&#9;&#9;&#9;org.springframework.web.bind.MethodArgumentNotValidException ex,&#10;&#9;&#9;&#9;org.springframework.http.HttpHeaders headers,&#10;&#9;&#9;&#9;org.springframework.http.HttpStatus status,&#10;&#9;&#9;&#9;org.springframework.web.context.request.WebRequest request) {&#10;&#9;&#9;java.util.List&lt;java.lang.String&gt; errors = new java.util.ArrayList&lt;java.lang.String&gt;();&#10;&#9;&#9;for (org.springframework.validation.FieldError error : ex.getBindingResult().getFieldErrors()) {&#10;&#9;&#9;&#9;errors.add(error.getField() + &quot;: &quot; + error.getDefaultMessage());&#10;&#9;&#9;}&#10;&#9;&#9;for (org.springframework.validation.ObjectError error : ex.getBindingResult().getGlobalErrors()) {&#10;&#9;&#9;&#9;errors.add(error.getObjectName() + &quot;: &quot; + error.getDefaultMessage());&#10;&#9;&#9;}&#10;&#10;&#9;&#9;com.adechinan.dev.demoapi.ApiError apiError =&#10;&#9;&#9;&#9;&#9;new com.adechinan.dev.demoapi.ApiError(org.springframework.http.HttpStatus.BAD_REQUEST, ex.getLocalizedMessage(), errors);&#10;&#9;&#9;return handleExceptionInternal(&#10;&#9;&#9;&#9;&#9;ex, apiError, headers, apiError.getStatus(), request);&#10;&#9;}&#10;&#10;&#10;   /* @ExceptionHandler(MethodArgumentNotValidException.class)&#10;    public Map&lt;String, String&gt; handleValidationExceptions(&#10;            MethodArgumentNotValidException ex) {&#10;        Map&lt;String, String&gt; errors = new HashMap&lt;&gt;();&#10;        ex.getBindingResult().getAllErrors().forEach((error) -&gt; {&#10;            String fieldName = ((FieldError) error).getField();&#10;            String errorMessage = error.getDefaultMessage();&#10;            errors.put(fieldName, errorMessage);&#10;        });&#10;        return errors;&#10;    }*/&#10;&#10;   /*&#10;&#10;   {&#10;  &quot;name&quot;:&quot;Name is mandatory&quot;,&#10;  &quot;email&quot;:&quot;Email is mandatory&quot;&#10;}&#10;&#10;    */&#10;   &#10;&#10;}" description="" toReformat="true" toShortenFQNames="true">
    <context>
      <option name="JAVA_DECLARATION" value="true" />
    </context>
  </template>
  <template name="gdl.jwt" value="compile group: 'io.jsonwebtoken', name: 'jjwt', version: '0.9.1'" description="Jwt dependencie" toReformat="true" toShortenFQNames="true">
    <context>
      <option name="GROOVY_EXPRESSION" value="true" />
      <option name="GROOVY_STATEMENT" value="true" />
    </context>
  </template>
</templateSet>